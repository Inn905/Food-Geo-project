<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Food</title>
    <meta content='width=device-width, initial-scale=1.0, shrink-to-fit=no' name='viewport' />
    <link rel="icon" href="assets/img/icon.ico" type="image/x-icon"/>

    <!-- Fonts and icons -->
    <script src="assets/js/plugin/webfont/webfont.min.js"></script>
    <script>
        WebFont.load({
            google: {"families":["Lato:300,400,700,900"]},
            custom: {"families":["Flaticon", "Font Awesome 5 Solid", "Font Awesome 5 Regular", "Font Awesome 5 Brands", "simple-line-icons"], urls: ['assets/css/fonts.min.css']},
            active: function() {
                sessionStorage.fonts = true;
            }
        });
    </script>

    <!-- CSS Files -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/atlantis.min.css">
    <script src="jquery-3.4.1/jquery-3.4.1.js"></script>


</head>
<body>
<div class="wrapper">
    <div class="main-header">
        <!-- Logo Header -->
        <div class="logo-header" data-background-color="blue">

            <a href="All_View_China.html" class="logo">
                <img src="photos/logo.png" alt="navbar brand" class="navbar-brand">
            </a>
            <button class="navbar-toggler sidenav-toggler ml-auto" type="button" data-toggle="collapse" data-target="collapse" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon">
						<i class="icon-menu"></i>
					</span>
            </button>
            <button class="topbar-toggler more"><i class="icon-options-vertical"></i></button>
            <div class="nav-toggle">
                <button class="btn btn-toggle toggle-sidebar">
                    <i class="icon-menu"></i>
                </button>
            </div>
        </div>
        <!-- End Logo Header -->

        <!-- Navbar Header -->
        <nav class="navbar navbar-header navbar-expand-lg" data-background-color="blue2">

            <div class="container-fluid">
                <div class="collapse" id="search-nav">
                    <form class="navbar-left navbar-form nav-search mr-md-3">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <a href="index.html" class="btn btn-search pr-1">
                                    <i class="fa fa-search search-icon"></i>
                                </a>
                            </div>
                            <input type="text" placeholder="搜索 ..." class="form-control">
                        </div>
                    </form>
                </div>
            </div>
        </nav>
        <!-- End Navbar -->
    </div>

    <!-- Sidebar -->
    <div class="sidebar sidebar-style-2">
        <div class="sidebar-wrapper scrollbar scrollbar-inner">
            <div class="sidebar-content">
                <div class="user">
                    <div class="avatar-sm float-left mr-2">
                        <img src="photos/川菜.jpg" alt="..." class="avatar-img rounded-circle">
                    </div>
                    <div class="info">
                        <a data-toggle="collapse" aria-expanded="true">
								<span>
									川菜
								</span>
                            <span class="user-level" style="font-size:12px">
									麻、辣、咸、甜、酸、苦、香
								</span>
                        </a>
                        <div class="clearfix"></div>
                    </div>
                </div>
                <ul class="nav nav-primary">
                    <li class="nav-item">
                        <a href="index.html">
                            <i class="fas fa-th-list"></i>
                            <p>川菜词云</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="Geo.html" >
                            <i class="far fa-chart-bar"></i>
                            <p>地理分析</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="History.html">
                            <i class="fas fa-pen-square"></i>
                            <p>历史因素</p>
                        </a>
                    </li>
                    <li class="nav-item active">
                        <a href="SpicyMap.html">
                            <i class="fas fa-layer-group"></i>
                            <p>食辣地图</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="Globe.html">
                            <i class="fas fa-map-marker-alt"></i>
                            <p>走向世界</p>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- End Sidebar -->


    <div id="main" style="width: auto;height:600px;margin: 0 auto;"></div>


</div>
<!--   Core JS Files   -->
<script src="assets/js/core/jquery.3.2.1.min.js"></script>
<script src="assets/js/core/popper.min.js"></script>
<script src="assets/js/core/bootstrap.min.js"></script>
<!-- jQuery UI -->
<script src="assets/js/plugin/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
<script src="assets/js/plugin/jquery-ui-touch-punch/jquery.ui.touch-punch.min.js"></script>
<!-- jQuery Scrollbar -->
<script src="assets/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js"></script>
<!-- Chart JS -->
<script src="assets/js/plugin/chart.js/chart.min.js"></script>
<!-- jQuery Sparkline -->
<script src="assets/js/plugin/jquery.sparkline/jquery.sparkline.min.js"></script>
<!-- Chart Circle -->
<script src="assets/js/plugin/chart-circle/circles.min.js"></script>
<!-- Datatables -->
<script src="assets/js/plugin/datatables/datatables.min.js"></script>
<!-- Bootstrap Notify -->
<script src="assets/js/plugin/bootstrap-notify/bootstrap-notify.min.js"></script>
<!-- jQuery Vector Maps -->
<script src="assets/js/plugin/jqvmap/jquery.vmap.min.js"></script>
<script src="assets/js/plugin/jqvmap/maps/jquery.vmap.world.js"></script>
<!-- Sweet Alert -->
<script src="assets/js/plugin/sweetalert/sweetalert.min.js"></script>

<!-- Atlantis JS -->
<script src="assets/js/atlantis.min.js"></script>

<script type="text/javascript" src="e-chart/echarts.js"></script>
<script type="text/javascript" src='e-chart/echarts-wordcloud.js'></script>
<script type="text/javascript" src='e-chart/china.js'></script>
<script type="text/javascript" src="e-chart/echarts-gl.min.js"></script>
<script type="text/javascript" src="e-chart/data-1556466081698-qDedSQsRX.js"></script>
<script type="text/javascript" src="e-chart/world.js"></script>

<script type="text/javascript">

    var myChart = echarts.init(document.getElementById('main'));

    option = {
        title: {
            text: '全国主要省市吃辣地图',
            x:'center',
            y: '14%',
            padding: 5,
            itemGap: 10,
            textStyle: {
                color: '#ffffff'
            }
        },
        backgroundColor: '#013954',
        visualMap: {
            min: 0,
            max: 12,
            show: true,
            right:"10%",
            type:'continuous',
            range:[0, 12],
            showLabel: true,
            seriesIndex: [0],
            calculable:true,
            realtime:true,
            inRange: {
                color: ['#ff0000','#ea4c53','#ea756c','#ea8b86','#ffd7d5'].reverse()
            },
            textStyle: {
                color: '#fff'
            }
        },
        geo: {
            map: 'china',
            label: {
                normal: {
                    show: false,//显示省份标签
                    textStyle:{color:"#ffffff"}//省份标签字体颜色
                },
                emphasis: {//对应的鼠标悬浮效果
                    show: true,
                    textStyle:{color:"#ffffff"}
                }
            },
            itemStyle: {
                normal: {
                    borderWidth: .5,//区域边框宽度
                    borderColor: '#516a89',//区域边框颜色
                    areaColor:"#334559",//区域颜色

                },
                emphasis: {
                    borderWidth: .5,
                    borderColor: '#4b0082',
                    areaColor:"#252b3d",

                }
            },
            roam: true,
        },


        series: [{
            name: "mapSer",
            type: "map",
            roam: false,
            coordinateSystem: 'geo',
            geoIndex: 0,
            label: {
                show: false
            },
            data:[]

        }, ]
    };

    myChart.setOption(option);

    var nums=[];
    $.ajax({
        type:"get",
        url:"http://localhost:8081/demo/spicy/data",
        data:{},
        dataType : "json",
        async: false,
        success:function (data) {
            for(var i=0;i<data.length;i++){
                nums.push({name:data[i].province_name,value:data[i].province_value});

            }
            myChart.setOption(
                {
                    series:[
                        {
                            data:nums
                        }
                    ]
                }
            );
        },
        error : function(errorMsg) {
            //请求失败时执行该函数
            alert("图表请求数据失败!");
            myChart.hideLoading();
        }
    });



</script>

</body>
</html>